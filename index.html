<!DOCTYPE html>

<html>

<head>
    <title>Eliza - Chatbot</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- container for the background picture -->
    <div class="page-bg"></div>

    <!-- header bar -->
    <header class="w3-bar w3-light-gray w3-opacity" style="width:100%">
        <h2 class="w3-bar-item w3-padding">Welcome to Eliza</h2>
        <a href="/about" class="w3-bar-item w3-right w3-border w3-button w3-margin w3-padding">About</a>
        <a href="/" class="w3-bar-item w3-border w3-button w3-margin w3-right w3-padding">New Session</a>
    </header>

    <!-- main container -->
    <div class="w3-container">

        <!-- ask for the users name  -->
        {{if not .NameSet}}
        <p class="w3-text-white">Welcome! I am Eliza. Please tell me your name!</p>

        <!-- form with an textinput for the user name and a button to submit -->
        <form class="w3-container w3-margin-top" action="/session" method="POST">
            <input class="w3-input w3-border w3-margin-top" type="text" id="userNameInput" name="userNameInput" style="width: 400px"
                placeholder="Please enter your name..." autofocus>
            <button class="w3-button w3-gray w3-hover-black w3-margin-top" type="submit">Enter Name</button>
        </form>
        {{end}}

        <hr> {{if .NameSet}}
        <ul id="chatbox" class="w3-ul">
            <li class="w3-bar w3-round-large" style="border: none">
                <img src="female_avatar.png" class="w3-bar-item w3-circle" style="width:85px">
                <div class="w3-bar-item">
                    <span class="w3-large">Eliza</span>
                    <br>
                    <span>Welcome {{.Username}}! I am Eliza. {{.Greeting}}</span>
                </div>
            </li>
        </ul>

    </div>
    <!-- form with the chat window, a textinput for user input and a button to submit the question -->
    <form class="w3-container" onSubmit="return false;" style="position: fixed; bottom: 50px; width: 100%">
        <div class="w3-bar">
            <input class="w3-input w3-border w3-bar-item" type="text" id="userTextInput" name="userTextInput" style="width: 90%; float:left; margin-top: 6px;"
                placeholder="Please enter a question..." autofocus>
            <span class="w3-bar-item">
                <button id="questionButton" onclick="askQuestion()" class="w3-white">
                    <img src="right_arrow.png" alt="" style="width:45px" />
                </button>
            </span>
        </div>
    </form>

    {{end}}

    <!-- footer -->
    <footer class="w3-bar w3-light-gray w3-opacity" style="position: fixed; bottom: 0; width: 100%">
        <p class="w3-center">Bastian Graebener - G00340600 - Eliza Chatbot - Data Representation and Querying</p>
    </footer>

    <!-- script source -->
    <script type="text/javascript" src="./script.js"></script>

</body>

</html>